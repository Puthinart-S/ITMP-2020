<!DOCTYPE html>
<html>
<head>
	<title>The Members - ITKMITL Multimedia Programming 2563</title>

	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<link rel="stylesheet" type="text/css" href="lab.css">
</head>
<body>
	<div id="app">
		<h2>Investors Exchange (IEX) Trading</h2>
		<h4>Volume : {{text_show.volume}}</h4>
		<h4>Venue : {{text_show.venue}} </h4>
		<h4>VenueName : {{text_show.venueName}} </h4>
		<h4>EffectiveSpread : {{text_show.effectiveSpread}}</h4>
		<h4>EffectiveQuoted : {{text_show.effectiveQuoted}}</h4>
		<h4>PriceImprovement : {{text_show.priceImprovement}}</h4><br>
		<h2>Name List</h2>
		<h5 v-for="t in text_keep" :data-id="t.volume" @click="viewBio(t)">{{t.venueName}}</h5>
		
	</div>
	

	<script>
		fetch("https://investors-exchange-iex-trading.p.rapidapi.com/stock/msft/effective-spread", {
	"method": "GET",
	"headers": {
		"x-rapidapi-host": "investors-exchange-iex-trading.p.rapidapi.com",
		"x-rapidapi-key": "76d17a13aamsh37c60fa97f030acp13c793jsn35e6684cb791"
	}
})
		.then(response => response.json())
		.then(json => {
			console.log(json)
			app.text_keep = json
			app.text_show = json[0]
			})
		let app = new Vue({
			el: '#app',
			methods:{
				viewBio: function(user){
					this.text_show = user
				}
			} ,
			data: {
				text_show :{
					"volume":8376,
					"venue":"XCHI",
					"venueName":"CHX",
					"effectiveSpread":0.026703680000000004,
					"effectiveQuoted":0.8367942,
					"priceImprovement":0.004480659
				},
				text_keep :[
				{
					"volume":8376,
					"venue":"XCHI",
					"venueName":"CHX",
					"effectiveSpread":0.026703680000000004,
					"effectiveQuoted":0.8367942,
					"priceImprovement":0.004480659
				}]
			}	
		})
	</script>
</body>
</html>